---
apiVersion: v1
baseDomain: {{ base_domain }}
metadata:
  name: {{ cluster_name }}
controlPlane:
  name: master
  replicas: 1
  hyperthreading: Enabled
compute:
  - name: worker
    replicas: 0
    hyperthreading: Enabled
networking:
  networkType: OVNKubernetes
  clusterNetwork:
  - cidr: {{ cluster_network }}
    hostPrefix: 24
  serviceNetwork:
  - {{ service_network }}
platform:
  none: {}
pullSecret: '{{ pull_secret }}'
sshKey: '{{ ssh_key }}'
capabilities:
  baselineCapabilitySet: None
  additionalEnabledCapabilities:
  - baremetal
  - MachineAPI                 # Mandatory with "baremetal"
  - marketplace
  - OperatorLifecycleManager
  - OperatorLifecycleManagerV1 # 4.18
  - Console
  - CSISnapshot
  - NodeTuning
  - Ingress                    # 4.16
  #- Storage
  #- openshift-samples
  #- ImageRegistry
  #- Build
  #- DeploymentConfig
  #- CloudCredential
  #- CloudControllerManager
  #- Insights                  # OKD is disconnected from RH
